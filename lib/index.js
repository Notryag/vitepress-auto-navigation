"use strict";var e=require("fs"),t=require("path");function r(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var n=r(e),i=r(t);const s=e=>({text:o(e.name),link:i.normalize(e.path).replace(/\\/g,"/")}),o=e=>e.replace(/\.[^/.]+$/,""),c=e=>e.endsWith(".md");function a(e,t=1,r={}){const s=n.readdirSync(e),l=[];return s.forEach((s=>{const u=i.join(e,s).toString().replace(/\\/g,"/");if(n.statSync(u).isDirectory()){let n={name:s,path:u,isDirectory:!0,level:t,parentPath:e};const i=a(u,t+1,r);l.push(n,...i),r[u]=n}else if(c(s)){let n={name:o(s),path:u,level:t,isDirectory:!1,parentPath:e};l.push(n),r[u]=n}})),l.sort(((e,t)=>e.level-t.level||(t.isDirectory?1:-1)))}const l=(e,t,r)=>{e[t.path]||(e[t.path]=[{text:"other",items:[]}]),r.isDirectory?e[t.path].push({text:r.name,items:[]}):e[t.path][0].items.push({text:r.name,link:s(r).link})};module.exports=function(e={baseurl:"./blog"}){let t={};const r=a(e.baseurl,1,t);let n=[];const i={},o={},c=r.filter((e=>e.isDirectory&&1==e.level));for(const e of c){e.items=[];for(const t of r)t.parentPath===e.path&&l(i,e,t)}for(const e of Object.keys(i)){const t=i[e];for(const n of r)if(n.path.includes(e)&&!n.isDirectory){const e=t.findIndex((e=>n.path.includes(e.text)));if(-1===e)continue;t[e].items.push(s(n))}}for(const[e,r]of Object.entries(i)){const i=r.filter((e=>e.items.length>0));0!==i.length&&(o[e]=i,n.push({text:t[e].name,items:r.reduce(((e,t)=>{let r=t.items[0];return r?(e.push({text:"other"===t.text?r.text:t.text,link:r.link}),e):e}),[])}))}return{nav:n,sidebar:o}};
